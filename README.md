# tech-doc
技术文档系统。

生成证书，参考：http://www.cnblogs.com/zzmiaow/p/10201035.html

## 系统功能
主要功能：文档（Document）、文件（File）、芯片寄存器映射（Chip）。 
辅助功能：标签（Tag）、目录（Category）。
系统管理：数据的备份和恢复

### 文档(Document)
文档的属性：内容

1. 查询
    1. 列出所有文档，支持不同的排序（时间）
    2. 搜索文档：内容、时间范围、标签

2. 编辑（添加和修改）
    1. 支持标签自动补齐

3. 删除
    1. 删除文档，如果引用的文档没有其他引用，则删除。

4. 导出文档
    1. 将选中的文档导出，包括关联的文件。


### 文件(File)
文件的属性：文件名称、扩展名、文件大小、存储路径

1. 查询/
    1. 支持搜索文件：文件名称、扩展名、文件大小、时间范围、标签
    2. 支持排序方式：上传日期、文件大小
    3. 支持图片浏览

2. 上传/
    1. 提示具有名称相同、大小相同的文件，允许查看已有的文件，或删除该上传的文件
    2. 为选中的文件关联标签

3. 删除/

> 当前缺少文件编辑（标签关联）

#### 实现建议
文件在服务器端的存储路径为：上传日期 + 本地文件名， 如"20190312/filename"
添加"doc_ref"标签，用于表示该文件在文档中引用，删除文档时会检测该文件是否被其他文档引用，如果没有，则删除该文件。


### 标签
使用标签对文档、文件进行扁平化的组织。

查询：
1. 列出所有标签
2. 在输入标签时，自动补全

添加：
1. 在文档、文件编辑过程中添加标签

删除：
1. 列出所有标签引用的次数
2. 允许选择未引用的标签，并删除。


### 目录(Category)
目录的属性：名称、父级、排序

编辑：
1. 添加子目录
2. 修改父级目录
3. 修改当前目录
4. 修改统计排序

关联资源：
1. 区分文档/文件资源（选项卡方式）

浏览：
1. 使用图标区分目录和资源（文档/文件）

目录的资源管理， 目录的显示调整（区分目录和资源）



### 芯片
11. 芯片子系统包括存储映射和文档2个部分
12. 存储映射一般具有如下层级： 芯片存储范围， 存储段（模块）， [ 寄存器， 位组 ] 
13. 芯片子系统的文档使用目录进行组织， 可以分为：芯片/模块(功能描述，配置控制)。
配置控制包括：实现的功能，需要操作哪些寄存器/位组。

寄存器编辑：芯片/模块/寄存器/位组
模块的寄存器映射： 弹出菜单（选择模块，显示已选中位组，提供复制功能），全屏映射显示， 位组说明显示（点击位组锁定，取消锁定，根据当前鼠标浮动）。
文档编辑：选择所属芯片/模块， 标签， 关联位组，内容。
         文档和芯片/模块之间的关联，转化为标签来实现
文档搜索：
文档显示：

与寄存器有关的芯片文档，使用固定的标签，比如"芯片功能配置"


### 系统

备份的组织：
tech-doc_data_20191219.tgz
tech-doc_data_20191219.info   备份说明

备份数据包括：上传文件，数据库文件

显示备份文件大小，备份时间，说明信息。

用户选择删除，最多保留3个备份。


## 未实现的功能
芯片文档编辑的入口（在文档列表处识别）
芯片映射页面的，芯片/模块选择菜单中，列出已有的功能

数据备份，数据恢复， 安装时检测是否需要数据恢复。

